<?xml version="1.0" encoding="iso-8859-1"?>
<!--DOCTYPE level SYSTEM "level.dtd" -->
<level name="TestLevel">
<!-- comments -->
	<levelHeader music="Main" width="4" height="4"/>
	<tiles>
		<tile name="1" xpos="0" ypos="0" zorder="1">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="2" xpos="0" ypos="1">
			<tilemap mapname="wall1" mapx="3" mapy="1"/>
			<directionBlock east="true" north="true" south="true" west="true"/>
		</tile>
		<tile name="3" xpos="0" ypos="2">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="" xpos="0" ypos="3">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="4" xpos="1" ypos="0">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="5" xpos="1" ypos="1" hot="true">
			<!-- Here's an animated sprite tile instead of a regular tile -->
			<spriteRef>tiles/Lava</spriteRef>
			<!-- Your primary character loses 10 hp for stepping here -->
			<attributeModifier add="-10" attribute="HP" target="primary">
				<condition>
					<hasItem not="true">
						<itemRef itemType="special">AsbestosFeet</itemRef>
					</hasItem>
				
				</condition>
			</attributeModifier>
	
		</tile>
		<tile name="5" xpos="1" ypos="0" hot="true">
			<!-- Here's an animated sprite tile instead of a regular tile -->
			<spriteRef>tiles/Lava</spriteRef>
			<!-- Your primary character loses 10 hp for stepping here -->
			<attributeModifier add="-10" attribute="HP" target="primary">
				<condition>
					<hasItem not="true">
						<itemRef itemType="special">AsbestosFeet</itemRef>
					</hasItem>
				
				</condition>
			</attributeModifier>
	
		</tile>
		<tile name="6" xpos="1" ypos="2">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="" xpos="1" ypos="3">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="7" xpos="2" ypos="0">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="8" xpos="2" ypos="1">
			<tilemap mapname="grass" mapx="4" mapy="1"/>
		</tile>
		<tile name="9" xpos="2" ypos="2" floater="true">
			<tilemap mapname="wall1" mapx="2" mapy="1" />
		</tile>
		<tile name="" xpos="2" ypos="3">
			<tilemap mapname="wall1" mapx="0" mapy="0"/>
		</tile>
		<tile name="" xpos="3" ypos="0" >
			<tilemap mapname="grass" mapx="4" mapy="1" />
		</tile>
		<tile name="" xpos="3" ypos="1" >
			<tilemap mapname="grass" mapx="4" mapy="1" />
		</tile>	
		<tile name="" xpos="3" ypos="2" >
			<tilemap mapname="grass" mapx="3" mapy="9" />
		</tile>
		<tile name="" xpos="3" ypos="2" zorder="1">
			<tilemap mapname="grass" mapx="2" mapy="0"/>
		</tile>
		<tile name="" xpos="3" ypos="3">
			<tilemap mapname="grass" mapx="2" mapy="2" />
		</tile>
		<tile name="" xpos="1" ypos="1">
			<tilemap mapname="grass" mapx="2" mapy="2" />
		</tile>
		<tile name="" xpos="2" ypos="2">
			<tilemap mapname="grass" mapx="1" mapy="1" />
		</tile>
		
		<!-- This tile only appears after the player made the bridge -->
		<!-- It replaces the previously specified water tile -->
		<tile name="bridge" xpos="1" ypos="2" zorder="1">
			<tilemap mapname="wall1" mapx="1" mapy="5"/>
			<condition>
				<didEvent>madeBridge</didEvent>
			</condition>
		</tile>
	</tiles>
	<mappableObjects>
	
		<mo name="Cat" type="npc" xpos="2" ypos="0" size="small" solid="true">
			<spriteRef direction = "south">Animals/Cat1s</spriteRef>
			<spriteRef direction = "north">Animals/Cat1n</spriteRef>
			<spriteRef direction = "east">Animals/Cat1e</spriteRef>
			<spriteRef direction = "west">Animals/Cat1w</spriteRef>
			<spriteRef direction = "still">Animals/Cat1s</spriteRef>
			<event name="CatMeow" triggerType="talk">
				<playSound>Meow</playSound>	
				<say speaker="Cat">Meow</say>
			</event>
			<movement movementType = "wander" speed="fast"/>
		</mo>
		
	
		<mo name="Door" type="door" xpos="2" ypos="2" size="small">
			<event name="enterOctaviaInn" triggerType="step">
				<loadLevel name="ocataviaInn" startx="4" starty="3"/>
			</event>
		</mo>
		<mo name="Action" type="square" xpos="2" ypos="0" size="small">
			<!-- When you step on this square, -->
			<event name="mordusDances" triggerType="step">
			
			<!-- If you have completed the "foundMordus" event and you either have >= 50000 gold or the golden staff -->
				<condition>
					<operator>
						<and>
							<didEvent>foundMordus</didEvent>
							<operator>
								<or>
									<hasGold operator="gte">50000</hasGold>
									<hasItem>
										<itemRef itemType="weapon">GoldenStaff</itemRef>
									</hasItem>
								</or>
							</operator>
					
						</and>
					
				
					</operator>
				</condition>
				<!-- then mordus dances -->
				<playAnimation>mordusDances</playAnimation>
		
			</event>
		</mo>
	</mappableObjects>
</level>
		

