<!--DOCTYPE characterClasses SYSTEM "Levels/level.dtd"-->
<characterClasses>
        <characterClass name = "Warrior" gender="either">
        <battleMenu type="popup">
            <battleMenuOption name="Attack" icon="attack">
                <conditionScript id="WarriorAttackOptionCondition">
                    return  getCharacterToggle($Character,$_CAN_FIGHT) and
                        (hasEquipment($Character, $_HAND)
                        or
                        hasEquipment($Character, $_OFFHAND));
                </conditionScript>
                <skillRef skillName="Attack"/>
            </battleMenuOption>
            <battleMenuOption name="Item" icon="item">
                <conditionScript id="WarriorItemCondition">
                    return  getCharacterToggle($Character,$_CAN_ITEM);
                </conditionScript>
                <skillRef skillName="Item"/>
            </battleMenuOption>
        <battleMenuOption name="Throw" icon="hurl">
                <conditionScript id="WarriorThrowCondition">
                    <![CDATA[
                        return getCharacterToggle($Character,$_CAN_SKILL);
                        ]]>
                </conditionScript>
                <battleMenu type="popup">
                    <battleMenuOption name="Throw" icon="hurl">
                        <conditionScript id="WarriorThrow1Condition">
                            return true;
                        </conditionScript>
                        <skillRef skillName="Throw"/>
                    </battleMenuOption>
                    <battleMenuOption name="Fast Throw" icon="hurl">
                        <conditionScript id="WarriorThrow2Condition">
                            return true;
                        </conditionScript>
                        <skillRef skillName="Fast Throw"/>
                    </battleMenuOption>     
                    <battleMenuOption name="Super Throw" icon="hurl">
                        <conditionScript id="WarriorThrow3Condition">
                            return false;
                        </conditionScript>
                        <skillRef skillName="Super Throw"/>
                    </battleMenuOption>    
                </battleMenu>
            </battleMenuOption>
        <battleMenuOption name="Flee" icon="flee">
                <conditionScript id="WarriorFleeCondition">
                    <![CDATA[
                        return 
                        getCharacterToggle($Character,$_CAN_RUN) 
                        and
                        !battle::isBossBattle();
                        ]]>
                </conditionScript>
                <skillRef skillName="Flee"/>
            </battleMenuOption>
          <battleMenuOption name="Heal" icon="heal">
            <skillRef skillName="Heal"/>
          </battleMenuOption>
			<battleMenuOption name="Defend" icon="defend">
				<skillRef skillName="Defend"/>
			</battleMenuOption>		  
        </battleMenu>

        <weaponTypeRef name="Sword"/>
        <weaponTypeRef name="Broadsword"/>
        <weaponTypeRef name="Greatsword"/>
        <weaponTypeRef name="Dagger"/>
                <weaponTypeRef name="Longsword"/>
                <weaponTypeRef name="Mace"/>
        <armorTypeRef name="Shield"/>
        <armorTypeRef name="Plate"/>
                <armorTypeRef name="Buckler"/>
        <armorTypeRef name="Boots"/>
                <armorTypeRef name="Hats"/>

        <statScript stat="hp_max">
            <script id="WarHPMAX">
                return math::pow(1.07, $_CL) * 50;
            </script>
        </statScript>
        <statScript stat="mp_max">
            <script id="WarMPMAX">
                return math::pow(1.07, $_CL) * 8;
            </script>
        </statScript>
        <statScript stat="bp_max">
            <script id="WarBPMAX">
                return 100;
            </script>
        </statScript>
        <statScript stat="str">
            <script id="WarSTR">
                return math::pow(1.06, $_CL) * 5;
            </script>
        </statScript>
        <statScript stat="def">
            <script id="WarDEF">
                return math::pow(1.06, $_CL) * 2;
            </script>
        </statScript>        
        <statScript stat="dex">
            <script id="WarDEX">
                //return math::pow(1.06, $_CL) * 4.5;
                return 1 - math::pow((1/($_CL+15)),0.7);
            </script>
        </statScript>
        <statScript stat="evd">
            <script id="WarEVD">
                //return math::pow(1.06, $_CL) * 4;
                return 1 - math::pow((1/$_CL),0.05);
            </script>
        </statScript>
        <statScript stat="joy">
            <script id="WarJOY">
                return 1.0;
            </script>
        </statScript>
        <statScript stat="mag">
            <script id="WarMAG">
                return 0;
            </script>
        </statScript>
        <statScript stat="rst">
            <script id="WarRST">
                return math::pow(1.06,$_CL) * 3.5;
            </script>
        </statScript>
        <statScript stat="lck">
            <script id="WarLCK">
                return  math::pow(1.06,$_CL) * 4.25;
            </script>
        </statScript>
        
        <skillTreeNode>
            <skillRef skillName="Attack"/>
        </skillTreeNode>
        <skillTreeNode>
            <skillRef skillName="Flee"/>
        </skillTreeNode>
        <skillTreeNode>
            <skillRef skillName="Item"/>
        </skillTreeNode>
        <skillTreeNode sp="12">
            <skillRef skillName="Throw"/>
            <skillTreeNode sp="40">
                <skillRef skillName="Super Throw"/>
                <skillTreeNode sp="280">
                    <skillRef skillName="Mega Throw"/>
                </skillTreeNode>
                <skillTreeNode sp="280">
                    <skillRef skillName="Fast Throw"/>
                </skillTreeNode>
            </skillTreeNode>
        </skillTreeNode>
        <skillTreeNode sp="120" reqs="Must be awesome.">
            <skillRef skillName="Heal"/>
            <conditionScript id="WarHealSTCond">
                <![CDATA[
                return true;
                    ]]>
            </conditionScript>
        </skillTreeNode>
    </characterClass>
        <characterClass name = "Ranger" gender="either">
        <battleMenu type="popup">
            <battleMenuOption name="Attack" icon="attack">
                <conditionScript id="RangerAttackOptionCondition">
                    return  getCharacterToggle($Character,$_CAN_FIGHT) and
                        (hasEquipment($Character, $_HAND)
                        or
                        hasEquipment($Character, $_OFFHAND));
                </conditionScript>
                <skillRef skillName="Attack"/>
            </battleMenuOption>
            <battleMenuOption name="Item" icon="item">
                <conditionScript id="RangerItemCondition">
                    return  getCharacterToggle($Character,$_CAN_ITEM);
                </conditionScript>
                <skillRef skillName="Item"/>
            </battleMenuOption>
        <battleMenuOption name="Flee" icon="flee">
                <conditionScript id="RangerFleeCondition">
                    <![CDATA[
                        return 
                        getCharacterToggle($Character,$_CAN_RUN) 
                        and
                        !battle::isBossBattle();
                        ]]>
                </conditionScript>
                <skillRef skillName="Flee"/>
            </battleMenuOption>      
			<battleMenuOption name="Defend" icon="defend">
				<skillRef skillName="Defend"/>
			</battleMenuOption>
        </battleMenu>
                <weaponTypeRef name="Bow"/>
                <weaponTypeRef name="Precise Bow"/>
                <weaponTypeRef name="Great Bow"/>
                <weaponTypeRef name="Long Bow"/>
                <weaponTypeRef name="Master Bow"/>
                <weaponTypeRef name="Dagger"/>

                <armorTypeRef name="Vest"/>
                <armorTypeRef name="Buckler"/>
                <armorTypeRef name="Boots"/>
                <armorTypeRef name="Hats"/>

        <statScript stat="hp_max">
            <script id="RngHPMAX">
                return math::pow(1.07, $_CL) * 18;
            </script>
        </statScript>
        <statScript stat="bp_max">
            <script id="RngBPMAX">
                return 100;
            </script>
        </statScript>
        <statScript stat="mp_max">
            <script id="RngMPMAX">
                return 0;
            </script>
        </statScript>
        <statScript stat="str">
            <script id="RngSTR">
                return math::pow(1.06, $_CL) * 4;
            </script>
        </statScript>
        <statScript stat="def">
            <script id="RngSTR">
                return math::pow(1.06, $_CL) * 2;
            </script>
        </statScript>        
        <statScript stat="dex">
            <script id="RngDEX">
                //return math::pow(1.06, $_CL) * 5.5;
                return 1 - math::pow((1/($_CL+15)),0.7);
            </script>
        </statScript>
        <statScript stat="evd">
            <script id="RngEVD">
                //return math::pow(1.06, $_CL) * 6;
                return 1 - math::pow((1/$_CL),0.057);
            </script>
        </statScript>
        <statScript stat="mag">
            <script id="RngMAG">
                return 0;
            </script>
        </statScript>
        <statScript stat="rst">
            <script id="RngRST">
                return math::pow(1.06,$_CL) * 4;
            </script>
        </statScript>
        <statScript stat="lck">
            <script id="RngLCK">
                return  math::pow(1.06,$_CL) * 4.3;
            </script>
        </statScript>     
        <statScript stat="joy">
            <script id="RngJOY">
                return 1;
            </script>
        </statScript>
        <skillTreeNode>
            <skillRef skillName="Attack"/>
        </skillTreeNode>
        <skillTreeNode>
            <skillRef skillName="Flee"/>
        </skillTreeNode>
        <skillTreeNode>
            <skillRef skillName="Item"/>
        </skillTreeNode>

                <!--statIncrease base="1.07" multiplier="18" stat="hp_max"/>
                <statIncrease base="1.06" multiplier="4" stat="str"/>
                <statIncrease base="1.06" multiplier="5.5" stat="dex"/>
                <statIncrease base="1.06" multiplier="6" stat="evd"/>
                <statIncrease base="1.06" multiplier="1" stat="mag"/>
                <statIncrease base="1.06" multiplier="4" stat="rst"/-->
        </characterClass>
</characterClasses>

